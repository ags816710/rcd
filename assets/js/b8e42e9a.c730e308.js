"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[34],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>m});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),u=p(n),m=r,v=u["".concat(s,".").concat(m)]||u[m]||c[m]||l;return n?a.createElement(v,i(i({ref:t},d),{},{components:n})):a.createElement(v,i({ref:t},d))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=u;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var p=2;p<l;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},2162:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>c,frontMatter:()=>l,metadata:()=>o,toc:()=>p});var a=n(7462),r=(n(7294),n(3905));const l={sidebar_position:3},i="Team Config",o={unversionedId:"teamConfig",id:"teamConfig",title:"Team Config",description:"Group-locking Teams:",source:"@site/docs/teamConfig.md",sourceDirName:".",slug:"/teamConfig",permalink:"/rcd/docs/teamConfig",draft:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"setupSidebar",previous:{title:"Fixing Animations",permalink:"/rcd/docs/fixingAnimations"}},s={},p=[{value:"Group-locking Teams:",id:"group-locking-teams",level:2},{value:"Step 1:",id:"step-1",level:3},{value:"Step 2:",id:"step-2",level:3},{value:"Trello-locking Teams:",id:"trello-locking-teams",level:2},{value:"Step 1: Open Script",id:"step-1-open-script",level:3},{value:"Step 2: Paste Code",id:"step-2-paste-code",level:3},{value:"Step 3: Open Trello",id:"step-3-open-trello",level:3},{value:"Step 4: Create Board",id:"step-4-create-board",level:3},{value:"Step 5: Copy BoardId",id:"step-5-copy-boardid",level:3},{value:"Step 6: Put boardId into script",id:"step-6-put-boardid-into-script",level:3},{value:"Step 7: Copy personal app key",id:"step-7-copy-personal-app-key",level:3},{value:"Step 8: Generate token",id:"step-8-generate-token",level:3},{value:"Step 9: Input token &amp; key into script",id:"step-9-input-token--key-into-script",level:3},{value:"Step 10: Create Lists",id:"step-10-create-lists",level:3},{value:"Step 11: Get ListIds",id:"step-11-get-listids",level:3},{value:"Step 12: Add ids to table",id:"step-12-add-ids-to-table",level:3},{value:"Step 13: Paste another bit",id:"step-13-paste-another-bit",level:3},{value:"Step 14: Paste again",id:"step-14-paste-again",level:3},{value:"Removing Team Killing Notifications:",id:"removing-team-killing-notifications",level:2},{value:"Step 1:",id:"step-1-1",level:3},{value:"Step 2:",id:"step-2-1",level:3},{value:"Adding team-changer UI:",id:"adding-team-changer-ui",level:2},{value:"Step 1:",id:"step-1-2",level:3},{value:"Step 2:",id:"step-2-2",level:3}],d={toc:p};function c(e){let{components:t,...l}=e;return(0,r.kt)("wrapper",(0,a.Z)({},d,l,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"team-config"},"Team Config"),(0,r.kt)("h2",{id:"group-locking-teams"},"Group-locking Teams:"),(0,r.kt)("h3",{id:"step-1"},"Step 1:"),(0,r.kt)("p",null,"  Navigate to ServerScriptService>Services>RemoteService:3225"),(0,r.kt)("h3",{id:"step-2"},"Step 2:"),(0,r.kt)("p",null,"  Replace whole line with:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-lua"},'\n  if Player:IsInGroup(TeamsDatabase[Value].GroupId) or Developers[Player.UserId] ~= nil then\n     PlayerListService:ChangeTeam(Player, Value)\n     Events.Alerts:FireClient(Player, "Change Team", "You have been switched to "..tostring(Value), "Blue")\n  end\n\n')),(0,r.kt)("h2",{id:"trello-locking-teams"},"Trello-locking Teams:"),(0,r.kt)("h3",{id:"step-1-open-script"},"Step 1: Open Script"),(0,r.kt)("p",null,"  Navigate to ServerScriptService>Services>TrelloService"),(0,r.kt)("h3",{id:"step-2-paste-code"},"Step 2: Paste Code"),(0,r.kt)("p",null,"  Paste the following before the ",(0,r.kt)("inlineCode",{parentName:"p"},"return TrelloService")," line."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-lua"},'\nfunction TrelloService:GetTeamWhitelist(Player, Team)\n    if cooldown[Player] then return nil end\n    cooldown[Player] = true\n    task.delay(3, function() cooldown[Player] = nil end)\n    \n    if not Lists[Team.."_TW"] then return true end\n    \n    local GET = HttpService:GetAsync(temp)\n    local Results = HttpService:JSONDecode(GET)\n    if Results then\n        for i, v in Results do\n            if Lists[Team.."_TW"] == v.idList then\n                if Player.UserId == tonumber(v.name) then\n                    return true\n                elseif Player.Name == v.name then\n                    return true\n                elseif v.name:sub(1,6):lower() == "group:" then\n                    local str = v.name:sub(7)\n\n                    if str then\n                        local tbl = str:split(":")\n\n                        if tbl[1] then\n                            if tbl[2] then\n                                if Player:GetRankInGroup(tbl[1]) >= tbl[2] then\n                                    return true\n                                end\n                            else\n                                if Player:IsInGroup(tbl[1]) then\n                                    return true\n                                end\n                            end\n                        end\n                    end\n                end\n            end\n        end\n        return false\n    end\nend\n\n')),(0,r.kt)("h3",{id:"step-3-open-trello"},"Step 3: Open Trello"),(0,r.kt)("p",null,"  Go to ",(0,r.kt)("a",{parentName:"p",href:"https://trello.com/"},"trello")),(0,r.kt)("h3",{id:"step-4-create-board"},"Step 4: Create Board"),(0,r.kt)("p",null,'  Create a board by clicking "Create new Board"'),(0,r.kt)("h3",{id:"step-5-copy-boardid"},"Step 5: Copy BoardId"),(0,r.kt)("p",null,'  Copy the boardId from the address bar (eg: the "boardId" in ',(0,r.kt)("a",{parentName:"p",href:"https://trello.com/b/boardId/boardName"},"https://trello.com/b/boardId/boardName"),")"),(0,r.kt)("h3",{id:"step-6-put-boardid-into-script"},"Step 6: Put boardId into script"),(0,r.kt)("p",null,'  Go to the TrelloService module script and add your boardId into the "board" variable. ',(0,r.kt)("br",null),"\nFormat:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-lua"},'local board = "https://api.trello.com/1/boards/boardId"\n')),(0,r.kt)("h3",{id:"step-7-copy-personal-app-key"},"Step 7: Copy personal app key"),(0,r.kt)("p",null,"  Go ",(0,r.kt)("a",{parentName:"p",href:"https://trello.com/app-key"},"here")," and copy your personal key"),(0,r.kt)("h3",{id:"step-8-generate-token"},"Step 8: Generate token"),(0,r.kt)("p",null,"  Look below the personal app key and click generate token. ",(0,r.kt)("br",null),'\nYou can go up to the address bar and change the text between "name=" and "&key=" to whatever you wish, or you can keep it the same. ',(0,r.kt)("br",null)," ",(0,r.kt)("br",null)),(0,r.kt)("p",null,'  Click "Allow" and copy your token.'),(0,r.kt)("h3",{id:"step-9-input-token--key-into-script"},"Step 9: Input token & key into script"),(0,r.kt)("p",null,'  Place your key in both the "getCards" and "getLists" variables. ',(0,r.kt)("br",null),"\nLike:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-lua"},'local getCards = board.."cards?key=KEYHERE&token=TOKENHERE"\nlocal getLists = board.."lists?key=KEYHERE&token=TOKENHERE"\n')),(0,r.kt)("h3",{id:"step-10-create-lists"},"Step 10: Create Lists"),(0,r.kt)("p",null,"  On your trello board, create lists for each of the teams you would like whitelisted."),(0,r.kt)("h3",{id:"step-11-get-listids"},"Step 11: Get ListIds"),(0,r.kt)("p",null,"  Go up to the address bar and add .json to the end of the URL, hit enter. ",(0,r.kt)("br",null)),(0,r.kt)("p",null,"  This may look crazy at first, but all you need to do is search for the name of the list and copy the id of the board.\nLike this:\n",(0,r.kt)("img",{alt:"image",src:n(4745).Z,width:"442",height:"167"})),(0,r.kt)("br",null),(0,r.kt)("br",null),"Repeat for all of the teams/lists you need.",(0,r.kt)("h3",{id:"step-12-add-ids-to-table"},"Step 12: Add ids to table"),(0,r.kt)("p",null,'  For each of the teams, add them as entries into the "Lists" table.\nFormat: ',(0,r.kt)("br",null)),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-lua"},'  ["TeamNameHere_TW"] = "ListIdHere",\n')),(0,r.kt)("h3",{id:"step-13-paste-another-bit"},"Step 13: Paste another bit"),(0,r.kt)("p",null,"  Replace ServerScriptService>Services>RemoteService line 3229 & line 3230 to:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-lua"},'if TrelloService:GetTeamWhitelist(Player, Value) then\n    PlayerListService:ChangeTeam(Player, Value)\n    Events.Alerts:FireClient(Player, "Change Team", "You have been switched to "..tostring(Value), "Blue")\nelse\n    Events.Alerts:FireClient(Player, "Team Change", "You do not have permission to join this team!", "Red")\nend\n')),(0,r.kt)("h3",{id:"step-14-paste-again"},"Step 14: Paste again"),(0,r.kt)("p",null,"  Replace ServerScriptService>Services>RemoteService line 709 until 714 with:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-lua"},'if TrelloService:GetTeamWhitelist(Player, Team) then\n    PlayerListService:ChangeTeam(Player, Team)\n    MDTService.UpdateCallsign(Player, nil)\n    wait(0.25)\n    Player:LoadCharacter()\n    TeamChangeDebounce[Player] = nil\n    API.unlockMovement(Player)\nelse\n    Events.Alerts:FireClient(Player, "Change Team", "You do not have permission to join this team!", "Red")\nend\n')),(0,r.kt)("h2",{id:"removing-team-killing-notifications"},"Removing Team Killing Notifications:"),(0,r.kt)("h3",{id:"step-1-1"},"Step 1:"),(0,r.kt)("p",null,"  Navigate to ServerScriptService>Services>RemoteService:5027"),(0,r.kt)("h3",{id:"step-2-1"},"Step 2:"),(0,r.kt)("p",null,"  Remove ( or comment out ) the following:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-lua"},'\nif TeamsDatabase[killer.Team.Name].IsLEO == true and TeamsDatabase[Player.Team.Name].IsLEO == true and game.PrivateServerId == "" then\n    Events.Alerts:FireClient(killer, "Team Killing", "Killing other LEOs is against game rules. Continuing this behaviour will result in moderation!", "Red", true)\n    for i,v in pairs(game.Players:GetPlayers()) do\n        if require(game:GetService("ServerScriptService").Services.DataService):GetData(v).Moderator or require(game:GetService("ServerScriptService").Services.DataService):GetData(v).Developer then\n            Events.Alerts:FireClient(v, "Team Killing", Player.Name.." has just been team killed by "..killer.Name, "Red", true)\n        end\n    end\nend\n\n')),(0,r.kt)("h2",{id:"adding-team-changer-ui"},"Adding team-changer UI:"),(0,r.kt)("h3",{id:"step-1-2"},"Step 1:"),(0,r.kt)("p",null,"  Open the 'Find all / Replace All' menu by going to View>Find All / Replace All"),(0,r.kt)("h3",{id:"step-2-2"},"Step 2:"),(0,r.kt)("p",null,"  Search for 7262405121 and replace with your place's ID#"),(0,r.kt)("p",null,"![Image]"))}c.isMDXComponent=!0},4745:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/screenshotOfHowGetTrelloListId-909fdd728cae8aef99e3fa93fce5d59d.png"}}]);